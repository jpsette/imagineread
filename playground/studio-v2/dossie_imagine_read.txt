üìã Dossi√™ T√©cnico - Imagine Read

Data de An√°lise: 08 de Janeiro de 2026  
Status: Aplica√ß√£o Desktop em Desenvolvimento  
Ambiente: Electron + FastAPI



  üéØ Vis√£o Geral

Imagine Read √© uma aplica√ß√£o desktop para edi√ß√£o e processamento de mang√°s/quadrinhos com foco em IA para detec√ß√£o de bal√µes, OCR, inpainting e tradu√ß√£o. A aplica√ß√£o possui uma arquitetura cliente-servidor rodando localmente, combinando um frontend Electron moderno com um backend Python otimizado para processamento de imagens.

   Prop√≥sito Principal
  ‚Ä¢ Importa√ß√£o e gerenciamento de PDFs de quadrinhos
  ‚Ä¢ Detec√ß√£o autom√°tica de bal√µes de fala usando YOLO
  ‚Ä¢ OCR (reconhecimento de texto) usando Google Vertex AI
  ‚Ä¢ Edi√ß√£o visual de bal√µes com editor SVG avan√ßado
  ‚Ä¢ Limpeza de p√°ginas (inpainting) usando modelo LaMa
  ‚Ä¢ Sistema de projetos e organiza√ß√£o de bibliotecas



  üèóÔ∏è Arquitetura da Aplica√ß√£o

   Diagrama de Alto N√≠vel



   Stack Tecnol√≥gico Completo

#### üé® Frontend (Electron Desktop)
   Categoria    Tecnologia    Vers√£o    Prop√≥sito   
  -----------  -----------  --------  -----------  
   Runtime    Electron    30.0.1    Container desktop multiplataforma   
   Framework    React    18.2.0    UI reativa e componentiza√ß√£o   
   Linguagem    TypeScript    5.2.2    Type safety e developer experience   
   Build Tool    Vite    5.2.0    Dev server r√°pido e bundling   
   Estiliza√ß√£o    Tailwind CSS    4.1.18    Utility-first CSS framework   
   Anima√ß√µes    Framer Motion    12.24.7    Anima√ß√µes fluidas   
   √çcones    Lucide React    0.562.0    Sistema de √≠cones moderno   
   Utilities    clsx + tailwind-merge    -    Manipula√ß√£o de classes CSS   

#### ‚öôÔ∏è Backend (FastAPI Python)
   Categoria    Tecnologia    Vers√£o    Prop√≥sito   
  -----------  -----------  --------  -----------  
   Framework    FastAPI    latest    API REST ass√≠ncrona   
   Server    Uvicorn    latest    ASGI server de alta performance   
   Upload    python-multipart    latest    Processamento de multipart/form-data   
   PDF    pdf2image    latest    Convers√£o PDF ‚Üí PNG   
   IA Cloud    google-cloud-aiplatform    ‚â•1.38.0    Vertex AI (Gemini 2.0)   
   Detec√ß√£o    Ultralytics YOLO    latest (via subprocess)    Detec√ß√£o de bal√µes   
   Inpainting    PyTorch + LaMa    -    Remo√ß√£o de bal√µes   
   Imagem    OpenCV + Pillow    -    Manipula√ß√£o de imagens   

#### ü§ñ Engines de IA
   Engine    Localiza√ß√£o    Modelo    Fun√ß√£o   
  --------  -------------  ---------  ---------  
   YOLO    /yoloengine/    comicspeechbubblesegv1.pt    Detec√ß√£o e segmenta√ß√£o de bal√µes   
   LaMa    /yoloengine/models/    lama.pt (torchscript)    Inpainting de √°reas mascaradas   
   Gemini    Google Cloud    gemini-2.0-flash-exp    OCR e an√°lise sem√¢ntica   



  üìÇ Estrutura de Diret√≥rios





  üîß Arquitetura Detalhada

   üé® Frontend Architecture

#### Fluxo de Estados


#### Componentes Principais

1. App.tsx (Root Component)
  ‚Ä¢ Gerencia estado global da aplica√ß√£o
  ‚Ä¢ Roteamento entre views (Projects ‚Üí Editor)
  ‚Ä¢ Sistema de temas (12 cores predefinidas)
  ‚Ä¢ Handlers CRUD para projetos e p√°ginas

2. EditorView.tsx (Core Feature - 1107 linhas)
  ‚Ä¢ Canvas Interativo com Zoom/Pan (100% - 200%)
  ‚Ä¢ Sistema de Bal√µes Vetoriais (SVG)
  ‚Ä¢ 4 Shapes: Rectangle, Ellipse, Cloud, Scream
  ‚Ä¢ 3 Tipos: Speech, Thought, Whisper
  ‚Ä¢ Propriedades customiz√°veis (border, font, tail)
  ‚Ä¢ Fluxo de Processamento IA
  1. Detec√ß√£o YOLO ‚Üí Preview verde
  2. OCR Vertex ‚Üí Texto nos bal√µes
  3. Importa√ß√£o ‚Üí Balloons edit√°veis
  4. Limpeza ‚Üí Inpainting LaMa
  ‚Ä¢ Sidebar de Propriedades (edi√ß√£o em tempo real)
  ‚Ä¢ Drag & Drop de bal√µes e handles de resize

3. ProjectManager.tsx
  ‚Ä¢ CRUD de projetos
  ‚Ä¢ Sistema de cores e pins
  ‚Ä¢ Busca e ordena√ß√£o (A-Z, Z-A)
  ‚Ä¢ Interface tipo "Notion" (dark, minimalista)

4. VectorBubble Component (dentro de EditorView)
  ‚Ä¢ Renderiza√ß√£o SVG pura (paths matem√°ticas)
  ‚Ä¢ C√°lculos geom√©tricos para tails (Bezier curves)
  ‚Ä¢ Resize handles com transforma√ß√µes de coordenadas
  ‚Ä¢ Sistema de coordenadas normalizado (0-1000)

   ‚öôÔ∏è Backend Architecture

#### API Endpoints


#### Fluxo de Processamento IA



#### Gerenciamento de Estado
  ‚Ä¢ Persist√™ncia: JSON files (data.json, projects.json)
  ‚Ä¢ Storage de Imagens: /temp/ directory (servido via StaticFiles)
  ‚Ä¢ CORS: Configurado para localhost:5173 (Vite dev server)
  ‚Ä¢ Lifespan: Context manager para startup/shutdown (FastAPI 0.95+)



  üß† Engines de IA - Detalhamento

   1. YOLO Speech Bubble Detection

Arquivo: yoloengine/runyolo.py

Modelo: comicspeechbubblesegv1.pt (YOLOv8 Segmentation)

Caracter√≠sticas:
  ‚Ä¢ Detec√ß√£o + Segmenta√ß√£o (retorna pol√≠gonos precisos)
  ‚Ä¢ Confidence threshold: 0.15
  ‚Ä¢ Sa√≠da silenciosa (redirect stdout para evitar logs)
  ‚Ä¢ Fallback inteligente: box ‚Üí polygon se m√°scara falhar

Output:


   2. Google Vertex AI OCR

Integra√ß√£o: Google GenAI SDK (nova vers√£o)  
Modelo: gemini-2.0-flash-exp  
Projeto: seismic-mantis-483123-g8  
Regi√£o: us-central1

Estrat√©gia:
  ‚Ä¢ Crops individuais de cada bal√£o (via box coordinates)
  ‚Ä¢ Processamento em batch (limite de API respeitado)
  ‚Ä¢ Fallback de erros (timeouts, quota exceeded)
  ‚Ä¢ Prompt otimizado: "Extract only the text, no explanations"

Credenciais: backend/credentials.json (Service Account)

   3. LaMa Inpainting

Arquivo: yoloengine/runinpainting.py

Modelo: LaMa (Large Mask Inpainting) via TorchScript

Pipeline:
1. Recebe imagem + balloons JSON
2. Cria m√°scara bin√°ria (fillPoly nos pol√≠gonos)
3. Dilata m√°scara 20x20 (kernel) - crucial para bordas
4. Padding para m√∫ltiplo de 8 (requisito LaMa)
5. Infer√™ncia PyTorch (MPS se dispon√≠vel, sen√£o CPU)
6. Crop ao tamanho original
7. Salva imagem limpa + debugmask

Performance:
  ‚Ä¢ MPS (Apple Silicon): ~2-5s por p√°gina
  ‚Ä¢ CPU: ~10-20s por p√°gina



  üíæ Gerenciamento de Dados

   Estrutura de data.json



   Sistema de Thumbnails
  ‚Ä¢ Gerados on-demand via /thumbnail?url=X&width=300
  ‚Ä¢ Cache autom√°tico usando hash MD5 do URL
  ‚Ä¢ Compress√£o JPEG otimizada (quality=85)
  ‚Ä¢ Limita√ß√£o de largura m√°xima (300px padr√£o)



  üé® Design System

   Paleta de Cores (Dark Theme)


   Tipografia
  ‚Ä¢ Font Family: System font stack (sans-serif)
  ‚Ä¢ Tamanhos: 
  ‚Ä¢ Headers: 10px uppercase (tracking-widest)
  ‚Ä¢ Body: 12-14px
  ‚Ä¢ Bubble text: Din√¢mico (6-100px)

   Componentes UI
  ‚Ä¢ Buttons: Ghost style (hover reveal)
  ‚Ä¢ Cards: Borderless com subtle shadows
  ‚Ä¢ Inputs: Dark bg com focus ring blue
  ‚Ä¢ Scrollbars: Custom thin style (8px)



  üîë 10 Arquivos Principais para Tech Lead

   1. frontend/src/components/EditorView.tsx ‚≠ê‚≠ê‚≠ê
1107 linhas | Complexidade: 9/10
  ‚Ä¢ Por qu√™: Cora√ß√£o da aplica√ß√£o. Editor SVG completo com geometria vetorial, drag & drop, zoom/pan, integra√ß√£o de todas as IAs.
  ‚Ä¢ Destaques: VectorBubble component, sistema de coordenadas normalizadas, 4 shapes matem√°ticos (rect, ellipse, cloud, scream), tail bezier curves.

   2. backend/main.py ‚≠ê‚≠ê‚≠ê
882 linhas | Complexidade: 8/10
  ‚Ä¢ Por qu√™: API completa. Todos os endpoints, gerenciamento de estado, integra√ß√£o com 3 engines IA, CORS, static files, upload de PDFs.
  ‚Ä¢ Destaques: Lifespan context manager, Vertex AI client setup, modular endpoint design, filesystem JSON management.

   3. frontend/src/App.tsx ‚≠ê‚≠ê
365 linhas | Complexidade: 6/10
  ‚Ä¢ Por qu√™: Roteamento principal, gerenciamento de estado global, CRUD de projetos, sistema de temas.
  ‚Ä¢ Destaques: 12 temas de projetos, handlers para pages/projects, toggle views (Manager ‚Üí Editor).

   4. yoloengine/runyolo.py ‚≠ê‚≠ê
114 linhas | Complexidade: 5/10
  ‚Ä¢ Por qu√™: Script independente de detec√ß√£o. Mostra integra√ß√£o via subprocess, output JSON clean, silence de logs YOLO.
  ‚Ä¢ Destaques: Contextlib redirectstdout, robust model path handling, polygon extraction.

   5. yoloengine/runinpainting.py ‚≠ê‚≠ê
189 linhas | Complexidade: 7/10
  ‚Ä¢ Por qu√™: Pipeline completo de inpainting. Mask creation, dilation, PyTorch inference, crop/pad logic.
  ‚Ä¢ Destaques: MPS detection (Apple Silicon), mask dilation (20x20 kernel fix), debug mask output.

   6. frontend/src/components/ProjectManager.tsx ‚≠ê
236 linhas | Complexidade: 5/10
  ‚Ä¢ Por qu√™: UI de gerenciamento de projetos. Search, sort, pin, color picker, CRUD interface.
  ‚Ä¢ Destaques: Notion-style design, color theme system, inline editing.

   7. frontend/src/config.ts ‚≠ê
20 linhas | Complexidade: 2/10
  ‚Ä¢ Por qu√™: Configura√ß√£o centralizada. Todos os endpoints API em um lugar s√≥.
  ‚Ä¢ Destaques: APIBASEURL, object freeze (const assertions).

   8. backend/requirements.txt ‚≠ê
6 linhas | Complexidade: 1/10
  ‚Ä¢ Por qu√™: Depend√™ncias essenciais do backend. Mostra minimalismo e foco.
  ‚Ä¢ Destaques: FastAPI, pdf2image, google-cloud-aiplatform versioning.

   9. frontend/package.json ‚≠ê
40 linhas | Complexidade: 3/10
  ‚Ä¢ Por qu√™: Configura√ß√£o completa do projeto Electron. Scripts, depend√™ncias, electron-builder.
  ‚Ä¢ Destaques: Vite + Electron integration, Tailwind 4.x, TypeScript strict mode.

   10. frontend/src/utils/balloonConverter.ts ‚≠ê
Estimado ~100 linhas | Complexidade: 6/10
  ‚Ä¢ Por qu√™: L√≥gica de convers√£o YOLO ‚Üí Editor Bubbles. Transforma√ß√£o de coordenadas, auto-c√°lculo de font sizes, normaliza√ß√£o.
  ‚Ä¢ Destaques: Polygon scaling, bounding box math, adaptive font sizing.



  üìä M√©tricas do Projeto

   M√©trica    Valor   
  ---------  -------  
   Total de Componentes React    8 principais   
   Linhas de C√≥digo (Frontend)    ~8000+ linhas (estimado)   
   Linhas de C√≥digo (Backend)    ~1500+ linhas   
   Endpoints API    12 ativos   
   Modelos IA    3 (YOLO, LaMa, Gemini)   
   Tamanho do Modelo YOLO    54MB   
   Formato de Persist√™ncia    JSON (sem DB)   
   Linguagens    TypeScript, Python   
   Frameworks    React, FastAPI, Electron   



  üöÄ Comandos de Execu√ß√£o

   Backend


   Frontend


   YOLO Engine (Standalone Test)




  üîç Pontos de Aten√ß√£o para Tech Lead

   ‚úÖ Pontos Fortes
1. Arquitetura modular - Separa√ß√£o clara frontend/backend/engines
2. Type safety - TypeScript strict mode no frontend
3. IA State-of-the-art - Gemini 2.0, YOLOv8, LaMa
4. UX moderna - Notion-style, dark theme, anima√ß√µes Framer Motion
5. Processamento local - Privacidade, sem cloud lock-in (exceto Vertex)

   ‚ö†Ô∏è Pontos de Melhoria
1. Persist√™ncia JSON - Considerar SQLite/PostgreSQL para escalabilidade
2. Sem testes - Backend e frontend sem test coverage
3. Error handling - Alguns endpoints sem try/catch robusto
4. Backend monol√≠tico - main.py com 882 linhas (refatorar para routers?)
5. Falta de documenta√ß√£o - README.md ausente, sem OpenAPI docs
6. Vertex AI quota - Dependente de quota externa (considerar fallback)
7. Versionamento de modelos - LaMa e YOLO sem controle de vers√£o expl√≠cito

   üîí Seguran√ßa
  ‚Ä¢ ‚ö†Ô∏è credentials.json no reposit√≥rio (usar secrets manager)
  ‚Ä¢ ‚úÖ CORS configurado corretamente (localhost only)
  ‚Ä¢ ‚ö†Ô∏è Sem autentica√ß√£o (OK para app desktop, mas considerar multi-user)

   üìà Performance
  ‚Ä¢ ‚úÖ Vite com HMR r√°pido
  ‚Ä¢ ‚úÖ Thumbnails cacheados
  ‚Ä¢ ‚ö†Ô∏è Inpainting CPU pode ser lento (~20s) - considerar GPU
  ‚Ä¢ ‚ö†Ô∏è Vertex AI lat√™ncia (~2-5s por crop batch)



  üéì Conclus√£o

Imagine Read √© uma aplica√ß√£o desktop bem arquitetada para processamento de quadrinhos com IA, usando tecnologias modernas (React 18, FastAPI, Electron 30) e modelos state-of-the-art (YOLO, Gemini, LaMa). O projeto demonstra:
  ‚Ä¢ S√≥lido conhecimento de geometria computacional (SVG, coordenadas)
  ‚Ä¢ Integra√ß√£o avan√ßada de m√∫ltiplos modelos IA
  ‚Ä¢ Design system coerente e profissional
  ‚Ä¢ Fluxo de dados bem definido (YOLO ‚Üí OCR ‚Üí Edi√ß√£o ‚Üí Inpainting)

Recomenda√ß√£o: Projeto com grande potencial. Priorizar refactoring de main.py, adicionar testes, e migrar persist√™ncia para DB relacional antes de produ√ß√£o.
